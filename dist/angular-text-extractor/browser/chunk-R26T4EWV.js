import{A as me,B as Y,C as Be,D as ge,F as he,G as Oe,H as $e,J as We,K as xe,L as Ye,M as Ve,N as be,U as He,b as ze,e as fe,f as ie,g as ae,h as qe,j as O,k as De,p as te,q as U,r as Ue,s as Ge,t as f,u as m,w as Ce,x as $,y as F,z as x}from"./chunk-65XAKJCU.js";import{a as C,b as N,c as Ne,d as Fe,e as w,f as Vt,g as h}from"./chunk-DM275RSA.js";var Ke=w((Nr,Pe)=>{"use strict";var ke=function(e){"use strict";var a=Object.prototype,t=a.hasOwnProperty,i=Object.defineProperty||function(n,r,o){n[r]=o.value},d,g=typeof Symbol=="function"?Symbol:{},b=g.iterator||"@@iterator",L=g.asyncIterator||"@@asyncIterator",_=g.toStringTag||"@@toStringTag";function k(n,r,o){return Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{k({},"")}catch{k=function(r,o,p){return r[o]=p}}function q(n,r,o,p){var c=r&&r.prototype instanceof W?r:W,u=Object.create(c.prototype),A=new X(p||[]);return i(u,"_invoke",{value:_e(n,o,A)}),u}e.wrap=q;function v(n,r,o){try{return{type:"normal",arg:n.call(r,o)}}catch(p){return{type:"throw",arg:p}}}var M="suspendedStart",H="suspendedYield",G="executing",j="completed",P={};function W(){}function K(){}function R(){}var J={};k(J,b,function(){return this});var Z=Object.getPrototypeOf,I=Z&&Z(Z(oe([])));I&&I!==a&&t.call(I,b)&&(J=I);var B=R.prototype=W.prototype=Object.create(J);K.prototype=R,i(B,"constructor",{value:R,configurable:!0}),i(R,"constructor",{value:K,configurable:!0}),K.displayName=k(R,_,"GeneratorFunction");function de(n){["next","throw","return"].forEach(function(r){k(n,r,function(o){return this._invoke(r,o)})})}e.isGeneratorFunction=function(n){var r=typeof n=="function"&&n.constructor;return r?r===K||(r.displayName||r.name)==="GeneratorFunction":!1},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,R):(n.__proto__=R,k(n,_,"GeneratorFunction")),n.prototype=Object.create(B),n},e.awrap=function(n){return{__await:n}};function Q(n,r){function o(u,A,S,s){var l=v(n[u],n,A);if(l.type==="throw")s(l.arg);else{var E=l.arg,T=E.value;return T&&typeof T=="object"&&t.call(T,"__await")?r.resolve(T.__await).then(function(y){o("next",y,S,s)},function(y){o("throw",y,S,s)}):r.resolve(T).then(function(y){E.value=y,S(E)},function(y){return o("throw",y,S,s)})}}var p;function c(u,A){function S(){return new r(function(s,l){o(u,A,s,l)})}return p=p?p.then(S,S):S()}i(this,"_invoke",{value:c})}de(Q.prototype),k(Q.prototype,L,function(){return this}),e.AsyncIterator=Q,e.async=function(n,r,o,p,c){c===void 0&&(c=Promise);var u=new Q(q(n,r,o,p),c);return e.isGeneratorFunction(r)?u:u.next().then(function(A){return A.done?A.value:u.next()})};function _e(n,r,o){var p=M;return function(u,A){if(p===G)throw new Error("Generator is already running");if(p===j){if(u==="throw")throw A;return ee()}for(o.method=u,o.arg=A;;){var S=o.delegate;if(S){var s=pe(S,o);if(s){if(s===P)continue;return s}}if(o.method==="next")o.sent=o._sent=o.arg;else if(o.method==="throw"){if(p===M)throw p=j,o.arg;o.dispatchException(o.arg)}else o.method==="return"&&o.abrupt("return",o.arg);p=G;var l=v(n,r,o);if(l.type==="normal"){if(p=o.done?j:H,l.arg===P)continue;return{value:l.arg,done:o.done}}else l.type==="throw"&&(p=j,o.method="throw",o.arg=l.arg)}}}function pe(n,r){var o=r.method,p=n.iterator[o];if(p===d)return r.delegate=null,o==="throw"&&n.iterator.return&&(r.method="return",r.arg=d,pe(n,r),r.method==="throw")||o!=="return"&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),P;var c=v(p,n.iterator,r.arg);if(c.type==="throw")return r.method="throw",r.arg=c.arg,r.delegate=null,P;var u=c.arg;if(!u)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,P;if(u.done)r[n.resultName]=u.value,r.next=n.nextLoc,r.method!=="return"&&(r.method="next",r.arg=d);else return u;return r.delegate=null,P}de(B),k(B,_,"Generator"),k(B,b,function(){return this}),k(B,"toString",function(){return"[object Generator]"});function Ee(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function ne(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function X(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(Ee,this),this.reset(!0)}e.keys=function(n){var r=Object(n),o=[];for(var p in r)o.push(p);return o.reverse(),function c(){for(;o.length;){var u=o.pop();if(u in r)return c.value=u,c.done=!1,c}return c.done=!0,c}};function oe(n){if(n){var r=n[b];if(r)return r.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var o=-1,p=function c(){for(;++o<n.length;)if(t.call(n,o))return c.value=n[o],c.done=!1,c;return c.value=d,c.done=!0,c};return p.next=p}}return{next:ee}}e.values=oe;function ee(){return{value:d,done:!0}}return X.prototype={constructor:X,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(ne),!n)for(var r in this)r.charAt(0)==="t"&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=d)},stop:function(){this.done=!0;var n=this.tryEntries[0],r=n.completion;if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function o(s,l){return u.type="throw",u.arg=n,r.next=s,l&&(r.method="next",r.arg=d),!!l}for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p],u=c.completion;if(c.tryLoc==="root")return o("end");if(c.tryLoc<=this.prev){var A=t.call(c,"catchLoc"),S=t.call(c,"finallyLoc");if(A&&S){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(A){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else if(S){if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(n,r){for(var o=this.tryEntries.length-1;o>=0;--o){var p=this.tryEntries[o];if(p.tryLoc<=this.prev&&t.call(p,"finallyLoc")&&this.prev<p.finallyLoc){var c=p;break}}c&&(n==="break"||n==="continue")&&c.tryLoc<=r&&r<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=n,u.arg=r,c?(this.method="next",this.next=c.finallyLoc,P):this.complete(u)},complete:function(n,r){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&r&&(this.next=r),P},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.finallyLoc===n)return this.complete(o.completion,o.afterLoc),ne(o),P}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc===n){var p=o.completion;if(p.type==="throw"){var c=p.arg;ne(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(n,r,o){return this.delegate={iterator:oe(n),resultName:r,nextLoc:o},this.method==="next"&&(this.arg=d),P}},e}(typeof Pe=="object"?Pe.exports:{});try{regeneratorRuntime=ke}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ke:Function("r","regeneratorRuntime = r")(ke)}});var ve=w((Fr,Je)=>{"use strict";Je.exports=(e,a)=>`${e}-${a}-${Math.random().toString(16).slice(3,8)}`});var Se=w((zr,Qe)=>{"use strict";var Ht=ve(),Ze=0;Qe.exports=({id:e,action:a,payload:t={}})=>{let i=e;return typeof i>"u"&&(i=Ht("Job",Ze),Ze+=1),{id:i,action:a,payload:t}}});var we=w(se=>{"use strict";var Le=!1;se.logging=Le;se.setLogging=e=>{Le=e};se.log=(...e)=>Le?console.log.apply(se,e):null});var tt=w((re,et)=>{"use strict";var Kt=Se(),{log:ye}=we(),Jt=ve(),Xe=0;et.exports=()=>{let e=Jt("Scheduler",Xe),a={},t={},i=[];Xe+=1;let d=()=>i.length,g=()=>Object.keys(a).length,b=()=>{if(i.length!==0){let v=Object.keys(a);for(let M=0;M<v.length;M+=1)if(typeof t[v[M]]>"u"){i[0](a[v[M]]);break}}},L=(v,M)=>new Promise((H,G)=>{let j=Kt({action:v,payload:M});i.push(P=>h(re,null,function*(){i.shift(),t[P.id]=j;try{H(yield P[v].apply(re,[...M,j.id]))}catch(W){G(W)}finally{delete t[P.id],b()}})),ye(`[${e}]: Add ${j.id} to JobQueue`),ye(`[${e}]: JobQueue length=${i.length}`),b()});return{addWorker:v=>(a[v.id]=v,ye(`[${e}]: Add ${v.id}`),ye(`[${e}]: Number of workers=${g()}`),b(),v.id),addJob:(v,...M)=>h(re,null,function*(){if(g()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return L(v,M)}),terminate:()=>h(re,null,function*(){Object.keys(a).forEach(v=>h(re,null,function*(){yield a[v].terminate()})),i=[]}),getQueueLen:d,getNumWorkers:g}}});var nt=w((Ur,rt)=>{"use strict";function Zt(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}rt.exports=Zt});var it=w((Gr,ot)=>{"use strict";var Qt=nt();ot.exports=e=>{let a={};return typeof WorkerGlobalScope<"u"?a.type="webworker":Qt()?a.type="electron":typeof document=="object"?a.type="browser":typeof process=="object"&&typeof Ne=="function"&&(a.type="node"),typeof e>"u"?a:a[e]}});var st=w(($r,at)=>{"use strict";var Xt=it()("type")==="browser",er=Xt?e=>new URL(e,window.location.href).href:e=>e;at.exports=e=>{let a=C({},e);return["corePath","workerPath","langPath"].forEach(t=>{e[t]&&(a[t]=er(a[t]))}),a}});var lt=w((Yr,ct)=>{"use strict";ct.exports=e=>{let a=[],t=[],i=[],d=[],g=[];return e.blocks&&e.blocks.forEach(b=>{b.paragraphs.forEach(L=>{L.lines.forEach(_=>{_.words.forEach(k=>{k.symbols.forEach(q=>{g.push(N(C({},q),{page:e,block:b,paragraph:L,line:_,word:k}))}),d.push(N(C({},k),{page:e,block:b,paragraph:L,line:_}))}),i.push(N(C({},_),{page:e,block:b,paragraph:L}))}),t.push(N(C({},L),{page:e,block:b}))}),a.push(N(C({},b),{page:e}))}),N(C({},e),{blocks:a,paragraphs:t,lines:i,words:d,symbols:g})}});var Me=w((Hr,dt)=>{"use strict";dt.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var pt=w((Kr,tr)=>{tr.exports={name:"tesseract.js",version:"5.1.1",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.1","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var ft=w((Jr,ut)=>{"use strict";ut.exports={workerBlobURL:!0,logger:()=>{}}});var gt=w((Zr,mt)=>{"use strict";var rr=pt().version,nr=ft();mt.exports=N(C({},nr),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${rr}/dist/worker.min.js`})});var xt=w((Xr,ht)=>{"use strict";ht.exports=({workerPath:e,workerBlobURL:a})=>{let t;if(Blob&&URL&&a){let i=new Blob([`importScripts("${e}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(i))}else t=new Worker(e);return t}});var vt=w((en,bt)=>{"use strict";bt.exports=e=>{e.terminate()}});var yt=w((tn,wt)=>{"use strict";wt.exports=(e,a)=>{e.onmessage=({data:t})=>{a(t)}}});var Tt=w((_t,Et)=>{"use strict";Et.exports=(e,a)=>h(_t,null,function*(){e.postMessage(a)})});var Ot=w((Re,Ct)=>{"use strict";var Ie=e=>new Promise((a,t)=>{let i=new FileReader;i.onload=()=>{a(i.result)},i.onerror=({target:{error:{code:d}}})=>{t(Error(`File could not be read! Code=${d}`))},i.readAsArrayBuffer(e)}),Ae=e=>h(Re,null,function*(){let a=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?a=atob(e.split(",")[1]).split("").map(t=>t.charCodeAt(0)):a=yield(yield fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(a=yield Ae(e.src)),e.tagName==="VIDEO"&&(a=yield Ae(e.poster)),e.tagName==="CANVAS"&&(yield new Promise(t=>{e.toBlob(i=>h(Re,null,function*(){a=yield Ie(i),t()}))}));else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){let t=yield e.convertToBlob();a=yield Ie(t)}else(e instanceof File||e instanceof Blob)&&(a=yield Ie(e));return new Uint8Array(a)});Ct.exports=Ae});var Pt=w((on,kt)=>{"use strict";var or=gt(),ir=xt(),ar=vt(),sr=yt(),cr=Tt(),lr=Ot();kt.exports={defaultOptions:or,spawnWorker:ir,terminateWorker:ar,onMessage:sr,send:cr,loadImage:lr}});var je=w((ce,It)=>{"use strict";var dr=st(),pr=lt(),z=Se(),{log:St}=we(),ur=ve(),V=Me(),{defaultOptions:fr,spawnWorker:mr,terminateWorker:gr,onMessage:hr,loadImage:Lt,send:xr}=Pt(),Mt=0;It.exports=(...d)=>h(ce,[...d],function*(e="eng",a=V.LSTM_ONLY,t={},i={}){let g=ur("Worker",Mt),S=dr(C(C({},fr),t)),{logger:b,errorHandler:L}=S,_=Fe(S,["logger","errorHandler"]),k={},q={},v=typeof e=="string"?e.split("+"):e,M=a,H=i,G=[V.DEFAULT,V.LSTM_ONLY].includes(a)&&!_.legacyCore,j,P,W=new Promise((s,l)=>{P=s,j=l}),K=s=>{j(s.message)},R=mr(_);R.onerror=K,Mt+=1;let J=(s,l)=>{k[s]=l},Z=(s,l)=>{q[s]=l},I=({id:s,action:l,payload:E})=>new Promise((T,y)=>{St(`[${g}]: Start ${s}, action=${l}`);let D=`${l}-${s}`;J(D,T),Z(D,y),xr(R,{workerId:g,jobId:s,action:l,payload:E})}),B=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),de=s=>I(z({id:s,action:"load",payload:{options:{lstmOnly:G,corePath:_.corePath,logging:_.logging}}})),Q=(s,l,E)=>I(z({id:E,action:"FS",payload:{method:"writeFile",args:[s,l]}})),_e=(s,l)=>I(z({id:l,action:"FS",payload:{method:"readFile",args:[s,{encoding:"utf8"}]}})),pe=(s,l)=>I(z({id:l,action:"FS",payload:{method:"unlink",args:[s]}})),Ee=(s,l,E)=>I(z({id:E,action:"FS",payload:{method:s,args:l}})),ne=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),X=(s,l)=>I(z({id:l,action:"loadLanguage",payload:{langs:s,options:{langPath:_.langPath,dataPath:_.dataPath,cachePath:_.cachePath,cacheMethod:_.cacheMethod,gzip:_.gzip,lstmOnly:[V.DEFAULT,V.LSTM_ONLY].includes(M)&&!_.legacyLang}}})),oe=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),ee=(s,l,E,T)=>I(z({id:T,action:"initialize",payload:{langs:s,oem:l,config:E}})),n=(s="eng",l,E,T)=>{if(G&&[V.TESSERACT_ONLY,V.TESSERACT_LSTM_COMBINED].includes(l))throw Error("Legacy model requested but code missing.");let y=l||M;M=y;let D=E||H;H=D;let Te=(typeof s=="string"?s.split("+"):s).filter(Yt=>!v.includes(Yt));return v.push(...Te),Te.length>0?X(Te,T).then(()=>ee(s,y,D,T)):ee(s,y,D,T)},r=(s={},l)=>I(z({id:l,action:"setParameters",payload:{params:s}})),o=(y,...D)=>h(ce,[y,...D],function*(s,l={},E={blocks:!0,text:!0,hocr:!0,tsv:!0},T){return I(z({id:T,action:"recognize",payload:{image:yield Lt(s),options:l,output:E}}))}),p=(s="Tesseract OCR Result",l=!1,E)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),I(z({id:E,action:"getPDF",payload:{title:s,textonly:l}}))),c=(s,l)=>h(ce,null,function*(){if(G)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(z({id:l,action:"detect",payload:{image:yield Lt(s)}}))}),u=()=>h(ce,null,function*(){return R!==null&&(gr(R),R=null),Promise.resolve()});hr(R,({workerId:s,jobId:l,status:E,action:T,data:y})=>{let D=`${T}-${l}`;if(E==="resolve"){St(`[${s}]: Complete ${l}`);let ue=y;T==="recognize"?ue=pr(y):T==="getPDF"&&(ue=Array.from(N(C({},y),{length:Object.keys(y).length}))),k[D]({jobId:l,data:ue})}else if(E==="reject")if(q[D](y),T==="load"&&j(y),L)L(y);else throw Error(y);else E==="progress"&&b(N(C({},y),{userJobId:l}))});let A={id:g,worker:R,setResolve:J,setReject:Z,load:B,writeText:Q,readText:_e,removeFile:pe,FS:Ee,loadLanguage:ne,initialize:oe,reinitialize:n,setParameters:r,recognize:o,getPDF:p,detect:c,terminate:u};return de().then(()=>X(e)).then(()=>ee(e,a,i)).then(()=>P(A)).catch(()=>{}),W})});var jt=w((le,Rt)=>{"use strict";var At=je(),br=(e,a,t)=>h(le,null,function*(){let i=yield At(a,1,t);return i.recognize(e).finally(()=>h(le,null,function*(){yield i.terminate()}))}),vr=(e,a)=>h(le,null,function*(){let t=yield At("osd",0,a);return t.detect(e).finally(()=>h(le,null,function*(){yield t.terminate()}))});Rt.exports={recognize:br,detect:vr}});var Ft=w((cn,Nt)=>{"use strict";Nt.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var qt=w((ln,zt)=>{"use strict";zt.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var Ut=w((dn,Dt)=>{"use strict";Ke();var wr=tt(),yr=je(),_r=jt(),Er=Ft(),Tr=Me(),Cr=qt(),{setLogging:Or}=we();Dt.exports=C({languages:Er,OEM:Tr,PSM:Cr,createScheduler:wr,createWorker:yr,setLogging:Or},_r)});var Bt=Vt(Ut());var $t=(()=>{class e{pdfWorkerConfigured=!1;configurePdfWorker(){return h(this,null,function*(){if(this.pdfWorkerConfigured)return;let t=yield import("./chunk-3IV426GK.js");t.GlobalWorkerOptions.workerSrc="/assets/pdf.worker.min.js",this.pdfWorkerConfigured=!0})}extractFromImage(t,i="eng"){return h(this,null,function*(){let d=yield(0,Bt.createWorker)(i),{data:g}=yield d.recognize(t);return yield d.terminate(),{text:g.text,confidence:g.confidence,sourceType:"image"}})}extractFromPdf(t){return h(this,null,function*(){yield this.configurePdfWorker();let i=yield import("./chunk-3IV426GK.js"),d=yield t.arrayBuffer(),g=yield i.getDocument({data:d}).promise,b="";for(let L=1;L<=g.numPages;L++){let q=(yield(yield g.getPage(L)).getTextContent()).items.map(v=>v.str).join(" ");b+=q+`
`}return{text:b,sourceType:"pdf"}})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sr(e,a){e&1&&(f(0,"div"),x(1,"Extracting text..."),m())}var Wt=(()=>{class e{extractor;textExtracted=new qe;loading=!1;constructor(t){this.extractor=t}onFileSelected(t){return h(this,null,function*(){let i=t.target;if(!i.files?.length)return;let d=i.files[0];this.loading=!0;let g;d.type==="application/pdf"?g=yield this.extractor.extractFromPdf(d):g=yield this.extractor.extractFromImage(d),this.textExtracted.emit(g),this.loading=!1})}static \u0275fac=function(i){return new(i||e)(De($t))};static \u0275cmp=fe({type:e,selectors:[["app-text-extractor"]],outputs:{textExtracted:"textExtracted"},standalone:!0,features:[ge],decls:2,vars:1,consts:[["type","file","accept","image/*,.pdf",3,"change"],[4,"ngIf"]],template:function(i,d){i&1&&(f(0,"input",0),$("change",function(b){return d.onFileSelected(b)}),m(),te(1,Sr,2,0,"div",1)),i&2&&(O(),U("ngIf",d.loading))},dependencies:[be,xe],encapsulation:2})}return e})();function Lr(e,a){if(e&1&&(f(0,"div",8)(1,"strong"),x(2,"Error:"),m(),x(3),m()),e&2){let t=F();O(3),Y(" ",t.errorMessage," ")}}function Mr(e,a){if(e&1&&(f(0,"div",17)(1,"strong"),x(2,"Source Type:"),m(),f(3,"span"),x(4),he(5,"uppercase"),m()()),e&2){let t=F(2);O(3),Ge("badge badge-",t.currentText.sourceType,""),O(),me(Oe(5,4,t.currentText.sourceType))}}function Ir(e,a){if(e&1&&(f(0,"div",17)(1,"strong"),x(2,"Confidence:"),m(),f(3,"span",20),x(4),he(5,"number"),m()()),e&2){let t=F(2);O(4),Y("",$e(5,1,t.currentText.confidence,"1.2-2"),"%")}}function Ar(e,a){if(e&1){let t=Ce();f(0,"div",9)(1,"div",10)(2,"h2"),x(3,"Extracted Text Result"),m(),f(4,"div",11)(5,"button",12),$("click",function(){ie(t);let d=F();return ae(d.copyToClipboard())}),x(6,"Copy to Clipboard"),m(),f(7,"button",13),$("click",function(){ie(t);let d=F();return ae(d.downloadText())}),x(8,"Download as TXT"),m(),f(9,"button",14),$("click",function(){ie(t);let d=F();return ae(d.clearResults())}),x(10,"Clear"),m()()(),f(11,"div",15),te(12,Mr,6,6,"div",16)(13,Ir,6,4,"div",16),f(14,"div",17)(15,"strong"),x(16,"Text Length:"),m(),f(17,"span"),x(18),m()()(),f(19,"div",18)(20,"h3"),x(21,"Extracted Text:"),m(),f(22,"div",19),x(23),m()()()}if(e&2){let t=F();O(12),U("ngIf",t.currentText.sourceType),O(),U("ngIf",t.currentText.confidence),O(5),Y("",t.currentText.text.length," characters"),O(5),me(t.currentText.text)}}function Rr(e,a){if(e&1){let t=Ce();f(0,"div",24),$("click",function(){let d=ie(t).$implicit,g=F(2);return ae(g.currentText=d)}),f(1,"div",25)(2,"span",26),x(3),m(),f(4,"span",27),x(5),he(6,"uppercase"),m(),f(7,"span",28),x(8),m()(),f(9,"div",29),x(10),m()()}if(e&2){let t=a.$implicit,i=a.index,d=F(2);Ue("active",d.currentText===t),O(3),Y("#",i+1,""),O(2),me(Oe(6,7,t.sourceType)),O(3),Y("",t.text.length," chars"),O(2),Be("",t.text.substring(0,100),"",t.text.length>100?"...":"","")}}function jr(e,a){if(e&1&&(f(0,"div",21)(1,"h2"),x(2),m(),f(3,"div",22),te(4,Rr,11,9,"div",23),m()()),e&2){let t=F();O(2),Y("Extraction History (",t.extractedTexts.length,")"),O(2),U("ngForOf",t.extractedTexts)}}var _n=(()=>{class e{extractedTexts=[];currentText=null;errorMessage=null;onTextExtracted(t){this.currentText=t,this.extractedTexts.push(C({},t)),this.errorMessage=null,console.log("Text extracted:",{text:t.text.substring(0,100)+"...",confidence:t.confidence,sourceType:t.sourceType})}onError(t){this.errorMessage=t?.message||"An error occurred while extracting text",console.error("Extraction error:",t)}clearResults(){this.currentText=null,this.extractedTexts=[],this.errorMessage=null}downloadText(){if(!this.currentText?.text)return;let t=new Blob([this.currentText.text],{type:"text/plain"}),i=window.URL.createObjectURL(t),d=document.createElement("a");d.href=i,d.download=`extracted-text-${Date.now()}.txt`,d.click(),window.URL.revokeObjectURL(i)}copyToClipboard(){this.currentText?.text&&navigator.clipboard.writeText(this.currentText.text).then(()=>{alert("Text copied to clipboard!")}).catch(t=>{console.error("Failed to copy:",t)})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=fe({type:e,selectors:[["app-text-extractor-parent"]],standalone:!0,features:[ge],decls:13,vars:3,consts:[[1,"parent-container"],[1,"header"],[1,"subtitle"],[1,"extractor-section"],[3,"textExtracted"],["class","error-message",4,"ngIf"],["class","result-section",4,"ngIf"],["class","history-section",4,"ngIf"],[1,"error-message"],[1,"result-section"],[1,"result-header"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"metadata"],["class","metadata-item",4,"ngIf"],[1,"metadata-item"],[1,"text-preview"],[1,"text-content"],[1,"confidence-value"],[1,"history-section"],[1,"history-list"],["class","history-item",3,"active","click",4,"ngFor","ngForOf"],[1,"history-item",3,"click"],[1,"history-header"],[1,"history-index"],[1,"history-type"],[1,"history-length"],[1,"history-preview"]],template:function(i,d){i&1&&(f(0,"div",0)(1,"div",1)(2,"h1"),x(3,"Text Extractor Parent Component"),m(),f(4,"p",2),x(5,"This component demonstrates how to use the generic text-extractor component"),m()(),f(6,"div",3)(7,"h2"),x(8,"Upload File"),m(),f(9,"app-text-extractor",4),$("textExtracted",function(b){return d.onTextExtracted(b)}),m()(),te(10,Lr,4,1,"div",5)(11,Ar,24,4,"div",6)(12,jr,5,2,"div",7),m()),i&2&&(O(10),U("ngIf",d.errorMessage),O(),U("ngIf",d.currentText),O(),U("ngIf",d.extractedTexts.length>0))},dependencies:[be,We,xe,Ye,Ve,He,Wt],styles:[".parent-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px;font-size:2.5em}.subtitle[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1em}.extractor-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 10px #0000001a;margin-bottom:30px}.extractor-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#34495e;margin-bottom:20px;font-size:1.5em}.error-message[_ngcontent-%COMP%]{background-color:#fee;color:#c33;padding:15px 20px;border-radius:8px;border-left:4px solid #c33;margin-bottom:20px}.result-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 10px #0000001a;margin-bottom:30px}.result-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px}.result-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#34495e;margin:0;font-size:1.5em}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px);box-shadow:0 4px 8px #3498db4d}.btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7f8c8d;transform:translateY(-2px);box-shadow:0 4px 8px #95a5a64d}.btn-danger[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:translateY(-2px);box-shadow:0 4px 8px #e74c3c4d}.metadata[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:25px;padding:15px;background-color:#f8f9fa;border-radius:8px;flex-wrap:wrap}.metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px}.metadata-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#555}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase}.badge-image[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.badge-pdf[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.confidence-value[_ngcontent-%COMP%]{color:#27ae60;font-weight:600}.text-preview[_ngcontent-%COMP%]{margin-top:20px}.text-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#34495e;margin-bottom:15px;font-size:1.2em}.text-content[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:8px;border:1px solid #e0e0e0;white-space:pre-wrap;word-wrap:break-word;max-height:500px;overflow-y:auto;font-family:Courier New,monospace;font-size:14px;line-height:1.6;color:#2c3e50}.history-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 10px #0000001a}.history-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#34495e;margin-bottom:20px;font-size:1.5em}.history-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.history-item[_ngcontent-%COMP%]{padding:15px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .3s ease;background-color:#fafafa}.history-item[_ngcontent-%COMP%]:hover{border-color:#3498db;background-color:#f0f8ff;transform:translate(5px)}.history-item.active[_ngcontent-%COMP%]{border-color:#3498db;background-color:#e8f4f8;box-shadow:0 2px 8px #3498db33}.history-header[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;margin-bottom:10px;flex-wrap:wrap}.history-index[_ngcontent-%COMP%]{font-weight:600;color:#7f8c8d}.history-type[_ngcontent-%COMP%]{padding:2px 8px;background-color:#ecf0f1;border-radius:4px;font-size:11px;font-weight:600;color:#555}.history-length[_ngcontent-%COMP%]{color:#95a5a6;font-size:12px}.history-preview[_ngcontent-%COMP%]{color:#555;font-size:13px;line-height:1.5}@media (max-width: 768px){.parent-container[_ngcontent-%COMP%]{padding:20px 10px}.result-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{flex:1;min-width:120px}.metadata[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.text-content[_ngcontent-%COMP%]{max-height:300px}}"]})}return e})();export{_n as TextExtractorParentComponent};
